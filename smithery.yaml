# Smithery.ai configuration
startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    {}
  commandFunction:
    # A function that produces the CLI command to start the MCP on stdio.
    |-
    (config) => ({
      "command": "node",ÃŸ
      "args": [
        "index.js"
      ],
      env: {
        NODE_ENV: config.NODE_ENV || 'production',
        LLM_PROVIDER: config.LLM_PROVIDER || 'anthropic',
        LLM_MODEL: config.LLM_MODEL || 'claude-3-7-sonnet-latest',
        ANTHROPIC_API_KEY: config.ANTHROPIC_API_KEY,
        OPENAI_API_KEY: config.OPENAI_API_KEY,
        MISTRAL_API_KEY: config.MISTRAL_API_KEY,
        ANTHROPIC_BASE_URL: config.ANTHROPIC_BASE_URL || 'https://api.anthropic.com',
        OPENAI_BASE_URL: config.OPENAI_BASE_URL || 'https://api.openai.com',
        OLLAMA_BASE_URL: config.OLLAMA_BASE_URL || 'http://localhost:11434',
        COD_MAX_WORDS_PER_STEP: config.COD_MAX_WORDS_PER_STEP || '5',
        ENFORCE_FORMAT: config.ENFORCE_FORMAT || 'true',
        ADAPTIVE_WORD_LIMIT: config.ADAPTIVE_WORD_LIMIT || 'true',
        COD_DB_URL: config.COD_DB_URL || 'sqlite:///cod_analytics.db',
        COD_EXAMPLES_DB: config.COD_EXAMPLES_DB || 'cod_examples.db',
        COD_DEFAULT_MODEL: config.COD_DEFAULT_MODEL || 'claude-3-7-sonnet-latest',
        COD_MAX_TOKENS: config.COD_MAX_TOKENS || '500'
      }
    })